{"version":3,"sources":["utils.js","features/ProfileCreateDialog.js","features/ProfileList.js","features/ProfileSelection.js","features/ChapterSelection.js","features/Chapter.js","consts.js","App.js","reportWebVitals.js","index.js"],"names":["getLanguageKey","language","undefined","region","id","useStyles","makeStyles","theme","container","display","justifyContent","flexWrap","margin","spacing","ProfileCreateDialog","props","classes","React","useState","languages","setLanguages","selectedFrom","setSelectedFrom","selectedTo","setSelectedTo","useEffect","axios","get","then","res","data","from","to","profiles","onSelect","previous","next","Paper","className","map","Chip","label","name","onClick","onDelete","some","x","Button","variant","post","onCreate","ProfileList","displayName","profile","onDeleteProfile","delete","_","ListItem","button","ListItemText","ListItemSecondaryAction","IconButton","edge","aria-label","ProfileSelection","open","setOpen","setProfiles","List","component","Collapse","in","timeout","unmountOnExit","prev","concat","filter","ChapterSelection","chapters","setChapters","loading","setLoading","chapter","root","listStyle","padding","title","fontSize","chip","Chapter","Card","CardContent","Typography","color","gutterBottom","pages","translation","native","pageType","arguments","options","option","alert","DISPLAY_CHAPTER_SELECTION","DISPLAY_CHAPTER","App","setProfile","setChapter","screen","setScreen","onSelectProfile","onSelectChapter","Container","maxWidth","renderScreen","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.099271c4.chunk.js","sourcesContent":["export function getLanguageKey(language) {\n    return language.region !== undefined && \n           language.region !== null ? language.id + \"_\" + language.region : language.id;\n}","import { Button, Chip, makeStyles, Paper } from '@material-ui/core';\nimport axios from 'axios';\nimport React, { useEffect } from 'react';\nimport { getLanguageKey } from '../utils';\n\nconst useStyles = makeStyles((theme) => ({\n    container: {\n      display: 'flex',\n      justifyContent: 'center',\n      flexWrap: 'wrap',\n      '& > *': {\n        margin: theme.spacing(0.5),\n      },\n    },\n  }));\n\nconst isReady = (from, to, profiles) => {\n    return from !== undefined && to !== undefined && from !== to &&\n        !profiles.some(x => \n            getLanguageKey(x.from) === getLanguageKey(from) && \n            getLanguageKey(x.to) === getLanguageKey(to));\n};\n\nfunction ProfileCreateDialog(props) {\n    const classes = useStyles();\n    const [languages, setLanguages] = React.useState([]);\n    const [selectedFrom, setSelectedFrom] = React.useState(undefined);\n    const [selectedTo, setSelectedTo] = React.useState(undefined);\n\n    useEffect(() => {\n        axios\n          .get(`api/profile/languages`)\n          .then(res => setLanguages(res.data));\n    }, [setLanguages]);\n\n    const onClick = () => {\n        const from = getLanguageKey(selectedFrom);\n        const to = getLanguageKey(selectedTo);\n\n        axios\n          .post(`api/profile/create?from=${from}&to=${to}`)\n          .then(res => props.onCreate(res.data));\n\n        setSelectedFrom(undefined);\n        setSelectedTo(undefined);\n    };\n\n    const onSelect = (previous, next) => () => {\n        if (selectedFrom === previous) {\n            setSelectedFrom(next);\n        }\n        else\n        if (selectedTo === previous) {\n            setSelectedTo(next);\n        }\n    };\n\n    return (\n        <div>\n            <Paper>\n                <div className={classes.container}>\n                    {languages.map(language => \n                    <li key={getLanguageKey(language)}>\n                        <Chip\n                            label={language.name}\n                            onClick={onSelect(undefined, language)}\n                        />\n                    </li>\n                    )}\n                </div>\n                <div className={classes.container}>\n                    { selectedFrom !== undefined && \n                        <Chip\n                            label={`From ${selectedFrom.name}`}\n                            onDelete={onSelect(selectedFrom, undefined)} />\n                    }\n                    { selectedTo !== undefined && \n                        <Chip\n                            label={`From ${selectedTo.name}`}\n                            onDelete={onSelect(selectedTo, undefined)} /> \n                    }\n                </div>\n                <div className={classes.container}>\n                    { isReady(selectedFrom, selectedTo, props.profiles) && \n                        <Button variant=\"contained\" onClick={onClick}>Create</Button>\n                    }\n                </div>\n            </Paper>            \n        </div>\n    );\n}\n\nexport default ProfileCreateDialog;","import { IconButton, ListItem, ListItemSecondaryAction, ListItemText } from '@material-ui/core';\nimport axios from 'axios';\nimport React from 'react';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nconst ProfileList = (props) => {\n\n    const displayName = (profile) => {\n        return `${profile.from.name} - ${profile.to.name}`;\n    };\n\n    const onDeleteProfile = (profile) => () => {\n        axios\n          .delete(`api/profile/delete?profileId=${profile.id}`)\n          .then(_ => props.onDelete(profile));\n    };\n\n    const onSelect = (profile) => () => {\n        props.onSelect(profile);\n    };\n\n    return (\n        <div>\n            {props.profiles.map(profile => \n                <ListItem button key={profile.id} onClick={onSelect(profile)}>\n                    <ListItemText>{displayName(profile)}</ListItemText>\n                    <ListItemSecondaryAction>\n                    <IconButton\n                        edge=\"end\" \n                        aria-label=\"delete\" \n                        onClick={onDeleteProfile(profile)}>\n                      <DeleteIcon />\n                    </IconButton>\n                  </ListItemSecondaryAction>\n                </ListItem>)\n            }\n        </div>\n    );\n};\n\nexport default ProfileList;","import React, { useEffect } from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { Collapse } from '@material-ui/core';\nimport axios from 'axios';\nimport ProfileCreateDialog from './ProfileCreateDialog';\nimport ProfileList from './ProfileList';\n\nfunction ProfileSelection(props) {\n    const [open, setOpen] = React.useState(false);\n    const [profiles, setProfiles] = React.useState([]);\n\n    const onExpandCreate = () => {\n        setOpen(!open);\n    };\n\n    const onCreate = (profile) => {\n        setOpen(!open);\n        setProfiles(prev => prev.concat([profile]));\n    };\n\n    const onSelect = (profile) => {\n        props.onSelect(profile);\n    };\n\n    const onDelete = (profile) => {\n        setProfiles(prev => prev.filter(x => x !== profile));\n    };\n\n    useEffect(() => {\n        axios\n          .get(`api/profile/list`)\n          .then(res => setProfiles(res.data));\n    }, [setProfiles]);\n\n    return (\n        <div>\n            <List component=\"nav\">\n                <ListItem button key=\"create\" onClick={onExpandCreate}>\n                    <ListItemText>Create Profile ...</ListItemText>\n                </ListItem>\n                <Collapse in={open} timeout=\"auto\" unmountOnExit>\n                    <ProfileCreateDialog profiles={profiles} onCreate={onCreate} />\n                </Collapse>\n                <ProfileList profiles={profiles} onDelete={onDelete} onSelect={onSelect} />\n            </List>\n        </div>\n    );\n}\n\nexport default ProfileSelection;","import React, { useEffect } from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport axios from 'axios';\n\nfunction ChapterSelection(props) {\n    const [chapters, setChapters] = React.useState([]);\n    const [loading, setLoading] = React.useState(true);\n    const onSelect = (chapter) => () => {\n        props.onSelect(chapter);\n    }\n\n    useEffect(() => {\n        axios\n          .get(`api/chapter/list?profileId=${props.profile.id}`)\n          .then(res => {\n              setChapters(res.data);\n              setLoading(false);\n            });\n    }, [setChapters, props]);\n\n    if (loading)\n    {\n        return <div>... loading ...</div>\n    }\n\n    return (\n        <div>\n            <List component=\"nav\">\n                { chapters.map(chapter => \n                <ListItem button onClick={onSelect(chapter)}>\n                    <ListItemText>{chapter.name}</ListItemText>\n                </ListItem>)\n                }\n            </List>\n        </div>\n    );\n}\n\nexport default ChapterSelection;","import { Card, CardContent, Chip, makeStyles, Paper, Typography } from '@material-ui/core';\nimport React from 'react';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      display: 'flex',\n      justifyContent: 'center',\n      flexWrap: 'wrap',\n      listStyle: 'none',\n      padding: theme.spacing(0.5),\n      margin: 0,\n    },\n    title: {\n      fontSize: 14,\n    },\n    chip: {\n      margin: theme.spacing(0.5),\n    },\n  }));\n\nfunction Chapter(props) {\n    const classes = useStyles();\n\n    return (\n        <div>\n            <Card>\n                <CardContent>\n                    <Typography className={classes.title} color=\"textSecondary\" gutterBottom>\n                        {props.chapter.name}\n                    </Typography>\n                    <Typography>\n                        {props.chapter.pages[0].translation.native}\n                    </Typography>\n                </CardContent>\n            </Card>\n            <Paper component=\"ul\" className={classes.root}>\n            { props.chapter.pages[0].pageType === 0 && \n              props.chapter.pages[0].arguments.options.map(option => \n                <li key={option}>\n                    <Chip\n                        label={option}\n                        onClick={() => {alert(option)}}\n                        className={classes.chip}\n                    />\n                </li>)\n            }\n            </Paper>\n        </div>\n    );\n}\n\nexport default Chapter;","export const DISPLAY_PROFILE_SELECTION = \"DISPLAY_PROFILE_SELECTION\";\nexport const DISPLAY_CHAPTER_SELECTION = \"DISPLAY_CHAPTER_SELECTION\";\nexport const DISPLAY_CHAPTER = \"DISPLAY_CHAPTER\";\n","import React from 'react';\nimport './App.css';\nimport Container from '@material-ui/core/Container';\nimport { Paper } from '@material-ui/core';\nimport ProfileSelection from './features/ProfileSelection';\nimport ChapterSelection from './features/ChapterSelection';\nimport Chapter from './features/Chapter';\nimport { DISPLAY_CHAPTER, DISPLAY_CHAPTER_SELECTION, DISPLAY_PROFILE_SELECTION } from './consts';\n\nfunction App() {\n  const [profile, setProfile] = React.useState(undefined);\n  const [chapter, setChapter] = React.useState(undefined);\n  const [screen, setScreen] = React.useState(undefined);\n\n  const onSelectProfile = profile => {\n    setProfile(profile);\n    setScreen(DISPLAY_CHAPTER_SELECTION);\n  };\n\n  const onSelectChapter = chapter => {\n    setChapter(chapter);\n    setScreen(DISPLAY_CHAPTER);\n  };\n\n  const renderScreen = () => {\n    switch (screen)\n    {\n      case DISPLAY_PROFILE_SELECTION:\n        return <ProfileSelection onSelect={onSelectProfile} />;\n\n      case DISPLAY_CHAPTER_SELECTION:\n        return <ChapterSelection onSelect={onSelectChapter} profile={profile}/>;\n\n      case DISPLAY_CHAPTER:\n        return <Chapter chapter={chapter} />;\n\n      default:\n        return <ProfileSelection onSelect={onSelectProfile} />;\n    }\n  };\n\n  return (\n    <Container maxWidth=\"sm\" className=\"App\">\n      <Paper>\n        {renderScreen()}\n      </Paper>\n    </Container>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}